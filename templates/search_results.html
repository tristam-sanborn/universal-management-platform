<!DOCTYPE html>
<html>
<head>
    <title>Search Results</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        .clickable-row {
            cursor: pointer;
        }

        tbody tr:hover {
            background-color: rgb(100, 53, 145);
        }
        tbody tr:nth-child(odd):hover {
            background-color: rgb(93, 93, 239);
        }
        tbody tr:nth-child(even):hover {
            background-color: rgb(156, 156, 252);
        }
    
    </style>
    <script>
        function redirectToProfile(user_id) {
            window.location.href = "/profile/" + user_id;
        }
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Search Results</h1>
        <form action="{{ url_for('search_results') }}" method="POST" class="mb-4">
            <div class="input-group">
                <input type="text" name="search_query" class="form-control" placeholder="Search for users" required>
                <div class="input-group-append">
                    <button type="submit" class="btn btn-primary">Search</button>
                </div>
            </div>
        </form>
        <form action="{{ url_for('logout') }}" method="POST">
            <input type="submit" value="Logout">
        </form>
        <button onclick="window.history.back();" class="btn btn-secondary mb-4">Return to Search</button>
        <table class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>UID</th>
                    <th>Username</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Manager</th>
                    <th>Company Name</th>
                </tr>
            </thead>
            <tbody>
                {% for result in results %}
                    <tr class="clickable-row" onclick="redirectToProfile('{{ result[0] }}')">
                        <td>{{ result[0] }}</td>
                        <td>{{ result[1] }}</td>
                        <td>{{ result[2] }}</td>
                        <td>{{ result[3] }}</td>
                        <td>{{ result[4] }}</td>
                        <td>{{ result[5] }}</td>
                        <td>{{ result[6] }}</td>
                        <td>{{ result[7] }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
